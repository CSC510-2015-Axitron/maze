var canvas=CE.defines("canvas_id").extend(Input).ready(function(){canvas.Scene.call("MyScene")});canvas.Scene["new"]({name:"MyScene",materials:{images:{smile:"images/smile.png",trail1:"images/trail_dot1.png",trail2:"images/trail_dot2.png",trail3:"images/trail_dot3.png",trail4:"images/trail_dot4.png"}},ready:function(i){thisThing=this,this.el=this.createElement(32,32),this.el.drawImage("smile"),this.el.x=32,this.el.y=32,_canvas=this.getCanvas(),i.append(this.el);var t=new trailModel.create(function(i,t){return trail=thisThing.createElement(16,16),trail.drawImage("trail2"),trail.x=i,trail.y=t,trail});t.makeTrail(i,thisThing.el),canvas.Input.keyUp(Input.Up,function(a){thisThing.el.y>0&&(thisThing.el.y=Math.max(0,thisThing.el.y-32),t.makeTrail(i,thisThing.el))}),canvas.Input.keyUp(Input.Bottom,function(a){thisThing.el.y<_canvas.height&&(thisThing.el.y=Math.min(_canvas.height-32,thisThing.el.y+32),t.makeTrail(i,thisThing.el))}),canvas.Input.keyUp(Input.Left,function(a){thisThing.el.x>0&&(thisThing.el.x=Math.max(0,thisThing.el.x-32),t.makeTrail(i,thisThing.el))}),canvas.Input.keyUp(Input.Right,function(a){thisThing.el.x<_canvas.width&&(thisThing.el.x=Math.min(_canvas.width-32,thisThing.el.x+32),t.makeTrail(i,thisThing.el))})},render:function(i){i.refresh()}});